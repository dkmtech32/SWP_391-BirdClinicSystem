import{r as t,c as e,h as o}from"./p-ac318edc.js";let s={en:{Mon:"Mon",Tue:"Tue",Wed:"Wed",Thu:"Thu",Fri:"Fri",Sat:"Sat",Sun:"Sun",AM:"AM",PM:"PM",Jan:"Jan",Feb:"Feb",Mar:"Mar",Apr:"Apr",May:"May",Jun:"Jun",Jul:"Jul",Aug:"Aug",Sep:"Sep",Oct:"Oct",Nov:"Nov",Dec:"Dec"}};const n={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=class{constructor(o){t(this,o),this.slotUpdate=e(this,"slotUpdate",7),this.placeholder="Pick a slot",this.timeSlotsText="Time Slot",this.noSlotsText="No slots are available",this.dateFormat="ddd, D MMM YYYY",this.timeFormat="h:mm A",this.slots=[],this.language="en",this.translations=s,this.datesHiddenWhenTimesShown=!1}handleClearSlot(t){console.log("Clear event",t),this.resetSlot()}handleOnClick(t){t&&t.target&&t.target.className&&"string"==typeof t.target.className&&t.target.className.includes("neo-")||this.closeGrid()}componentWillLoad(){this.processSlots(this.slots)}processSlots(t){this.slots&&(this.isTimeSlotGridVisible=!1,this.selectedDate=void 0,this.selectedTime=void 0,this.displayText=void 0,this.dateGrids=function(t){let e,o,s=[],a=!0;for(let i of t){if(!(i.date&&i.date.substring(5)&&3===i.date.substring(5).split(" ").length&&n[i.date.substring(5).split(" ")[1]]>-1&&parseInt(i.date.substring(5).split(" ")[2])&&parseInt(i.date.substring(5).split(" ")[0]))){a=!1;break}{let t=new Date(parseInt(i.date.substring(5).split(" ")[2]),n[i.date.substring(5).split(" ")[1]],parseInt(i.date.substring(5).split(" ")[0]));(!e||e>t)&&(e=t),(!o||o<t)&&(o=t)}}if(a&&e&&o){let{m1:n,y1:a}={m1:e.getMonth(),y1:e.getFullYear()},{m2:r,y2:h}={m2:o.getMonth(),y2:o.getFullYear()};do{let e={monthYear:i[n]+" "+a,weeks:[]},o=[],r=new Date(a,n,1),h=new Date(a,n+1,0);for(let t=1;t<=r.getDay();t++)o.push(null);for(let s=1;s<=h.getDate();s++){let e=new Date(a,n,s),r=l[e.getDay()]+", "+s+" "+i[n]+" "+a,h=t.find((t=>t.date===r));o.push({dayOfMonth:s,isEnabled:!!h,dateText:r})}for(let t=o.length+1;t<=42;t++)o.push(null);for(let t=1;t<=6;t++){let t={days:[]};for(let e=1;e<=7;e++)t.days.push(o.shift());e.weeks.push(t)}s.push(e),11===n?(n=0,a++):n++}while(a<h||a===h&&n<=r)}return s}(t),this.dateGrids&&this.dateGrids.length&&(this.activeDateGridPage=0))}setSelectedDate(t){if(t)if(this.selectedDate=t,this.slots.length&&this.slots[0].timeSlots){this.displayText&&this.resetSlot();let t=this.slots.find((t=>t.date===this.selectedDate));this.timeGrids=function(t,e){let o=[],s=t.timeSlots.filter((t=>{let e=!0;return t||(e=!1),e}));if(s.length){let n=e?7:4,i=s[0].length<=8?4:2,l=Math.ceil(s.length/(i*n));e&&l>1&&(n=Math.ceil(s.length/i),l=1);for(let e=1;e<=l;e++){let e={dateText:t.date.substring(5),rows:[]};for(let t=1;t<=n;t++){let t={times:[]};for(let e=1;e<=i;e++){let e=s.shift();t.times.push(e?{timeText:e}:null)}e.rows.push(t)}o.push(e)}}return o}(t,this.datesHiddenWhenTimesShown),this.selectedTime=void 0,this.timeGrids&&this.timeGrids.length&&(this.activeTimeGridPage=0),this.isTimeSlotGridVisible=!0}else this.setSlot()}setSelectedTime(t){t&&(this.selectedTime=t,this.setSlot())}setSlot(){let t,e;if("MM-DD-YYYY"===this.dateFormat){let e=new Date(this.selectedDate);t=`${e.getMonth()+1}-${e.getDate()}-${e.getFullYear()}`}else{let e=this.selectedDate.split(" ");t=this.getTranslation(e[0].substring(0,e[0].length-1))+", "+e[1]+" "+this.getTranslation(e[2])+" "+e[3]}this.selectedTime&&(e=this.formatTimeSlot(this.selectedTime),e=e.replace(/AM/g,this.getTranslation("AM")),e=e.replace(/PM/g,this.getTranslation("PM"))),this.displayText=t+(this.selectedTime?", "+e:""),this.slotUpdate.emit({date:this.selectedDate,timeSlot:this.selectedTime,translatedDate:t,translatedTimeSlot:e}),this.isPopped=!1,this.isTimeSlotGridVisible=!1}resetSlot(){this.displayText=void 0,this.slotUpdate.emit({date:null,timeSlot:null,translatedDate:null,translatedTimeSlot:null})}closeGrid(){this.isPopped=!1,this.isTimeSlotGridVisible=!1,this.displayText||(this.selectedDate=void 0,this.selectedTime=void 0)}goBack(){this.isTimeSlotGridVisible=!1}prevDateGrid(){this.activeDateGridPage>0&&this.activeDateGridPage--}nextDateGrid(){this.activeDateGridPage<this.dateGrids.length-1&&this.activeDateGridPage++}prevTimeGrid(){this.activeTimeGridPage>0&&this.activeTimeGridPage--}nextTimeGrid(){this.activeTimeGridPage<this.timeGrids.length-1&&this.activeTimeGridPage++}getTranslation(t){return this.translations[this.language]?this.translations[this.language][t]:s.en[t]}formatTimeSlot(t){let e=t=>{let e=t.replace(/ AM/g,"");if(e=e.replace(/ PM/g,""),t.indexOf("AM")>-1){let t=e.split(":")[0].trim();return 1===t.length&&(t="0"+t),0===t.indexOf("12")&&(t="00"),t+":"+(e.split(":")[1]?e.split(":")[1].trim():"00")}if(t.indexOf("PM")>-1){let t=e.split(":")[0].trim();return 0!==t.indexOf("12")&&(t=(parseInt(t)+12).toString()),t+":"+(e.split(":")[1]?e.split(":")[1].trim():"00")}},o=t;if("HH:mm"===this.timeFormat)if(t.indexOf("-")>-1){let s;s=t.split("-"),s=s.map((t=>e(t))),o=s[0]+" - "+s[1]}else o=e(t);return o}render(){let t,e={bottom:this.isNeoInputAboveFold?void 0:this.neoInputHeight+"px",left:this.isNeoInputLeftSide?"0px":void 0,right:this.isNeoInputLeftSide?void 0:"0px"};return this.dateGrids&&this.dateGrids.length>0&&(t=this.dateGrids[this.activeDateGridPage].monthYear.split(" ")),o("span",{class:"neo-slot-picker"},o("input",{class:"neo-input",type:"text",readonly:!0,placeholder:this.placeholder,value:this.displayText,ref:t=>this.neoInput=t}),o("div",{style:e,class:this.isNeoInputAboveFold?"neo-popup neo-popup-below":"neo-popup neo-popup-above"},(!this.isTimeSlotGridVisible||!this.datesHiddenWhenTimesShown)&&this.dateGrids&&this.dateGrids.length>0&&o("table",{class:"neo-table neo-grid neo-date-grid"},o("tr",{class:"neo-tr"},o("th",{class:"neo-th neo-left-end"}),o("th",{colSpan:5,class:"neo-th neo-center"},o("span",{class:this.activeDateGridPage>0?"neo-paginate":"neo-paginate neo-paginate-disabled",onClick:()=>{this.activeDateGridPage>0&&this.prevDateGrid()}},"<"),this.getTranslation(t[0])+" "+t[1],o("span",{class:this.activeDateGridPage<this.dateGrids.length-1?"neo-paginate":"neo-paginate neo-paginate-disabled",onClick:()=>{this.activeDateGridPage<this.dateGrids.length-1&&this.nextDateGrid()}},">")),o("th",{class:"neo-th neo-right-end"},o("span",{class:"neo-close",onClick:()=>this.closeGrid()},"×"))),o("tr",{class:"neo-tr neo-equal-width weekday"},o("td",{class:"neo-td"},this.getTranslation("Sun")),o("td",{class:"neo-td"},this.getTranslation("Mon")),o("td",{class:"neo-td"},this.getTranslation("Tue")),o("td",{class:"neo-td"},this.getTranslation("Wed")),o("td",{class:"neo-td"},this.getTranslation("Thu")),o("td",{class:"neo-td"},this.getTranslation("Fri")),o("td",{class:"neo-td"},this.getTranslation("Sat"))),this.dateGrids[this.activeDateGridPage].weeks.map((t=>o("tr",{class:"neo-tr neo-equal-width"},t.days.map((t=>t?o("td",{class:t.isEnabled?t.dateText==this.selectedDate?"neo-td neo-cell neo-cell-selected":"neo-td neo-cell neo-cell-enabled":"neo-td neo-cell neo-cell-disabled",onClick:()=>this.setSelectedDate(t.isEnabled?t.dateText:void 0)},o("span",{class:t.isEnabled?t.dateText==this.selectedDate?"neo-day neo-day-selected":"neo-day neo-day-enabled":"neo-day neo-day-disabled"},t.dayOfMonth)):o("td",{class:"neo-td"}," "))))))),(!this.isTimeSlotGridVisible||!this.datesHiddenWhenTimesShown)&&this.dateGrids&&!this.dateGrids.length&&o("table",{class:"neo-table neo-grid neo-empty-grid"},o("tr",{class:"neo-tr"},o("th",{class:"neo-th neo-left-end"}),o("th",{colSpan:5,class:"neo-th neo-center"}," "),o("th",{class:"neo-th neo-right-end"},o("span",{class:"neo-close",onClick:()=>this.closeGrid()},"×"))),o("tr",{class:"neo-tr"},o("td",{colSpan:7,class:"neo-td"}," ")),o("tr",{class:"neo-tr"},o("td",{colSpan:7,class:"neo-td"}," ")),o("tr",{class:"neo-tr"},o("td",{colSpan:7,class:"neo-td neo-no-slots-text"},this.noSlotsText)),o("tr",{class:"neo-tr"},o("td",{colSpan:7,class:"neo-td"}," ")),o("tr",{class:"neo-tr"},o("td",{colSpan:7,class:"neo-td"}," ")),o("tr",{class:"neo-tr"},o("td",{colSpan:7,class:"neo-td"}," ")),o("tr",{class:"neo-tr"},o("td",{colSpan:7,class:"neo-td"}," "))),(this.isTimeSlotGridVisible||!this.datesHiddenWhenTimesShown&&this.selectedDate)&&this.timeGrids&&this.timeGrids.length>0&&o("div",null,this.datesHiddenWhenTimesShown&&o("table",{class:"neo-table neo-grid neo-time-grid"},o("tr",{class:"neo-tr"},o("th",{class:"neo-th neo-left-end"},o("span",{class:"neo-back",onClick:()=>this.goBack()},"←")),o("th",{class:"neo-th neo-center",colSpan:6},this.timeSlotsText),o("th",{class:"neo-th neo-right-end"},o("span",{class:"neo-close",onClick:()=>this.closeGrid()},"×")))),o("div",{class:this.datesHiddenWhenTimesShown&&this.isTimeSlotGridVisible?" neo-scroll":""},o("table",{class:"neo-table neo-grid neo-time-grid"},this.timeGrids[this.activeTimeGridPage].rows.map((t=>o("tr",{class:"neo-tr neo-equal-width"},t.times.map((e=>{let s;return e&&(s=this.formatTimeSlot(e.timeText),s=s.replace(/AM/g,this.getTranslation("AM")),s=s.replace(/PM/g,this.getTranslation("PM"))),e?o("td",{colSpan:2===t.times.length?4:2,class:e.timeText==this.selectedTime?"neo-td neo-cell neo-cell-selected":"neo-td neo-cell neo-cell-enabled",onClick:()=>this.setSelectedTime(e.timeText)},o("span",{class:e.timeText==this.selectedTime?"neo-time neo-time-selected":"neo-time neo-time-enabled"},s)):o("td",{colSpan:2===t.times.length?4:2,class:"neo-td"}," ")}))))))),!this.datesHiddenWhenTimesShown&&this.timeGrids&&this.timeGrids.length>0&&o("table",{class:"neo-table neo-grid neo-time-grid"},o("tr",{class:"neo-tr"},o("th",{class:"neo-th neo-left-end"},o("span",null," ")),o("th",{class:"neo-th neo-center",colSpan:6},o("span",{class:this.activeTimeGridPage>0?"neo-paginate":"neo-paginate neo-paginate-disabled",onClick:()=>{this.activeTimeGridPage>0&&this.prevTimeGrid()}},"<"),this.timeSlotsText,o("span",{class:this.activeTimeGridPage<this.timeGrids.length-1?"neo-paginate":"neo-paginate neo-paginate-disabled",onClick:()=>{this.activeTimeGridPage<this.timeGrids.length-1&&this.nextTimeGrid()}},">")),o("th",{class:"neo-th neo-right-end"},o("span",null," "))))),(this.isTimeSlotGridVisible||!this.datesHiddenWhenTimesShown&&this.selectedDate)&&this.timeGrids&&!this.timeGrids.length&&o("table",{class:"neo-table neo-grid neo-empty-grid"},o("tr",{class:"neo-tr"},o("th",{class:"neo-th neo-left-end"},this.datesHiddenWhenTimesShown?o("span",{class:"neo-back",onClick:()=>this.goBack()},"←"):o("span",null," ")),o("th",{colSpan:5,class:"neo-th neo-center"}," "),o("th",{class:"neo-th neo-right-end"},this.datesHiddenWhenTimesShown?o("span",{class:"neo-close",onClick:()=>this.closeGrid()},"×"):o("span",null," "))),this.datesHiddenWhenTimesShown&&o("tr",{class:"neo-tr"},o("td",{colSpan:7,class:"neo-td"}," ")),o("tr",{class:"neo-tr"},o("td",{colSpan:7,class:"neo-td"}," ")),o("tr",{class:"neo-tr"},o("td",{colSpan:7,class:"neo-td neo-no-slots-text"},this.noSlotsText)),o("tr",{class:"neo-tr"},o("td",{colSpan:7,class:"neo-td"}," ")),o("tr",{class:"neo-tr"},o("td",{colSpan:7,class:"neo-td"}," ")),this.datesHiddenWhenTimesShown&&o("tr",{class:"neo-tr"},o("td",{colSpan:7,class:"neo-td"}," ")),this.datesHiddenWhenTimesShown&&o("tr",{class:"neo-tr"},o("td",{colSpan:7,class:"neo-td"}," ")))))}static get watchers(){return{slots:["processSlots"]}}};a.style=":host{display:block !important}.neo-slot-picker{position:relative !important}.neo-popup{position:absolute !important;z-index:999 !important;background-color:white !important;padding:2px !important;margin:3px 0px !important;-webkit-box-shadow:0 0 10px lightgray !important;box-shadow:0 0 10px lightgray !important;border:1px solid whitesmoke !important}.neo-scroll{max-height:200px !important;overflow-y:overlay !important}.neo-scroll::-webkit-scrollbar{-webkit-appearance:none}.neo-scroll::-webkit-scrollbar:vertical{width:12px}.neo-scroll::-webkit-scrollbar:horizontal{height:12px}.neo-scroll::-webkit-scrollbar-thumb{border-radius:5px;border:3px solid white;background-color:#ed6436}.neo-scroll::-webkit-scrollbar-track{border-radius:10px;background-color:#ffffff}.neo-input{min-width:275px !important;cursor:pointer !important}.neo-paginate,.neo-close,.neo-back{padding:2px 10px !important;cursor:pointer !important;font-size:medium !important;color:#ed6436}.neo-paginate-disabled{color:rgb(189, 189, 189) !important}.neo-table{table-layout:fixed !important;width:100% !important;margin-bottom:0px !important}.weekday{background-color:#ed6436;color:#ffffff}.neo-tr.neo-equal-width>*:nth-last-child(2)~*{width:50% !important}.neo-tr.neo-equal-width>*:nth-last-child(3)~*{width:33.3% !important}.neo-tr.neo-equal-width>*:nth-last-child(4)~*{width:25% !important}.neo-tr.neo-equal-width>*:nth-last-child(5)~*{width:20% !important}.neo-tr.neo-equal-width>*:nth-last-child(6)~*{width:16.7% !important}.neo-tr.neo-equal-width>*:nth-last-child(7)~*{width:14.3% !important}.neo-th,.neo-td{border:1px solid whitesmoke !important;border-collapse:collapse !important}.neo-table{border:1.5px solid whitesmoke !important;border-collapse:collapse !important}.neo-th,.neo-td{padding:3px !important;text-align:center !important;overflow:hidden !important}.neo-right-end{text-align:right !important;width:15% !important}.neo-left-end{text-align:left !important;width:15% !important}.neo-grid{font-size:small !important;min-width:275px !important}.neo-day,.neo-time{padding:2px !important}.neo-cell-enabled{color:black !important}.neo-grid .neo-tr{height:1.75rem !important}@media only screen and (min-width: 768px){.neo-cell-enabled:hover{color:white !important;background-color:#ed6436 !important}}.neo-cell-selected{color:white !important;background-color:#ed6436 !important}.neo-day-enabled,.neo-day-selected,.neo-time-enabled,.neo-time-selected{cursor:pointer !important}.neo-day-disabled{color:lightgray !important;cursor:not-allowed !important}.neo-center{border-right:0px !important;border-left:0px !important}.neo-left-end{border-right:0px !important}.neo-right-end{border-left:0px !important}.neo-empty-grid .neo-th,.neo-empty-grid .neo-td{border:1px solid white !important}.neo-no-slots-text{color:gray !important}";export{a as datetime_slot_picker}